# 故障复盘报告
- **日期**: 2025-12-18
- **严重级别**: Medium

## 1. 问题现象
桌面端打开 AIBot Overlay 时，深度检索阶段的进度日志、图书列表等区域会不断向下扩张，把底部的输入框和按钮推到对话框之外，用户无法发送或清空消息。

## 2. 根本原因 (Root Cause)
因为对话框主体缺少独立的滚动容器，深度检索相关组件与消息流处在同一列并持续撑高布局；同时 DeepSearchWorkflow 本身没有高度限制，导致内容高度直接向外传递，所以底部表单被挤出视口。

## 3. 解决方案
- 将 overlay 主内容区域改为 `flex-1` 滚动容器，消息流、深度检索和草稿区都在该容器内滚动，底部输入区使用 `flex-shrink-0` 固定。
- 为 DeepSearchWorkflow 增加 `max-h` 与滚动条，确保流程内部的长内容不会再次撑开父容器。

## 4. 预防措施
后续涉及多块动态内容时，优先规划父级滚动容器与各子模块的 `min-height`/`max-height`，并在联调前使用固定视窗测试，避免再次出现底部表单被挤出的布局问题。
